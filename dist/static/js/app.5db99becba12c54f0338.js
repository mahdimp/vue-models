webpackJsonp([1],{"0xDb":function(t,e,n){"use strict";e.j=function(t){return void 0!==t&&!u.a.some.apply(u.a,o()(t).concat([u.a.isEmpty]))},n.d(e,"c",function(){return d}),n.d(e,"g",function(){return l}),n.d(e,"h",function(){return v}),n.d(e,"a",function(){return j}),n.d(e,"i",function(){return b}),n.d(e,"f",function(){return g}),n.d(e,"e",function(){return $}),n.d(e,"d",function(){return _});var r=n("fZjL"),s=n.n(r),i=n("Gu7T"),o=n.n(i),a=n("M4fF"),u=n.n(a),c=n("lPtz");n.n(c);n.o(c,"Request")&&n.d(e,"b",function(){return c.Request});var d=function(t,e){var n=f(t,e),r={};for(var s in n){var i=n[s];r[i]=e[i]}return r},f=function(t,e){var n=u.a.merge({},t,e);return u.a.reduce(t,function(t,e,r){return u.a.isEqual(e,n[r])?t:t.concat(r)},[])},l=function(t){var e={};for(var n in t)e["_"===n.charAt(0)?n.substr(1):n]=t[n];return e},h=["id"],v=function(t){var e={};for(var n in t)e[h.includes(n)?"_"+n:n]=t[n];return e},j=function t(e){var n={};for(var r in e){var s=void 0,i=void 0,o=e[r];if("type"in o){s=o.type,i="default"in o?o.default:"";var a=void 0;a=s===Object?{}:s===Array?[]:new s(i).valueOf(),n[r]=a}else n[r]=t(o)}return function(){return u.a.merge({},n)}},m=function t(e,n,r){var s={};if(e instanceof Array)s=e.map(function(e){for(var s in e)n.items&&s in n.items&&([Object,Array,Function].includes(n.items[s])?e[s]=t(e[s],n[s],r):e[s]=r(e[s],n.items[s]));return e});else if(e instanceof Object)for(var i in e)n[i]&&n[i].items?s[i]=t(e[i],n[i],r):n[i]&&n[i].properties?s[i]=t(e[i],n[i].properties,r):s[i]=i in n?r(e[i],n[i]):e[i];else s=r(e,n);return s},p=function(t,e){var n=void 0,r=e.type;if(r&&![Object,Array].includes(r)){var s=new r(t);n=s.encode?s.encode():s.valueOf()}else n=t;return n},y=function(t,e){var n=e.type;return n&&![Object,Array].includes(n)?new n(t).valueOf():t},b=function(t,e){return m(t,e,p)},g=function(t,e){return m(t,e,y)},$=function(t){var e={};for(var n in t.$options.computed)e[n]=t[n];var r=u.a.merge({},t.$data,e);return delete r.errors,delete r.fields,r},_=function(t,e){s()(e).forEach(function(n){t[n]=e[n]})}},"7did":function(t,e,n){"use strict";var r=n("bKmf");e.a={name:"app",models:{user:function(){return new r.a}},computed:{encoded:function(){return this.$user.encode()}},methods:{setUser:function(){this.$user={id:{$oid:"586e6d75b7a7bc5c852c60a5"},created:{$date:"2016-12-16T00:00:00"},updated:"2016-12-16T00:00:00",role:"admin",first_name:"Tony",last_name:"Tiger",email:"tonytiger@gmail.com",notifications:{alarm:{$date:"2016-12-16T00:00:00"},test:{one:{$date:"2016-12-16T00:00:00"},two:{three:{$date:"2016-12-16T00:00:00"}}}},things:[{id:{$oid:"42356d75b7a7bc5c52c11a90"},created:{$date:"2016-12-16T00:00:00"}},{id:{$oid:'09a11c25c5cb7a7b57d65324"'},created:{$date:"2016-12-16T00:00:00"}}]}},resetUser:function(){this.$user.reset()}}}},"90m7":function(t,e,n){"use strict";var r=n("M4fF"),s=n.n(r),i=n("0xDb"),o=function(t,e){if(t.$options["$"+e])throw new ReferenceError("Model '"+e+"' has a naming conflict\n       with an existing computed property'");t.$options.computed["$"+e]={get:function(){return t.$models[e]},set:function(n){return t.$models[e].set(n)}}},a=function(t){t._models=t.$options.models||{},t.$models=t.$options.$models||{};for(var e in t._models)t.$models[e]=t._models[e];if(n.i(i.j)(t.$models)){t.$options.computed||(t.$options.computed={});for(var r in t.$models)o(t,r)}},u=function(t){for(var e in t.$models)t.$models[e]=t.$models[e].apply(t),t.$models[e]._vm=t};e.a=function(t){return{beforeCreate:function(){n.i(i.j)(this.$options.models)&&a(this)},created:function(){n.i(i.j)(this.$options.models)&&u(this)},beforeDestroy:function(){if(n.i(i.j)(this.$models))for(var t in this.$models)s.a.get(this.$models[t],"$options.persist")||this.$models[t].reset()}}}},"A+uo":function(t,e,n){"use strict";var r=n("7did"),s=n("yA+m"),i=n("VU/8")(r.a,s.a,function(t){n("XGKZ")},"data-v-505d1a60",null);e.a=i.exports},"CxC/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),s=n("A+uo"),i=n("lVK7");r.a.config.productionTip=!1,r.a.use(i.a),new r.a({el:"#app",template:"<App/>",components:{App:s.a}})},Jqgd:function(t,e,n){"use strict";n.d(e,"a",function(){return y}),n.d(e,"b",function(){return b});var r=n("Zx67"),s=n.n(r),i=n("zwoO"),o=n.n(i),a=n("Pf15"),u=n.n(a),c=n("Zrlr"),d=n.n(c),f=n("wxAW"),l=n.n(f),h=n("M4fF"),v=n.n(h),j=n("PJh5"),m=n.n(j),p=function(){function t(e,n){d()(this,t),this.value=void 0,n&&(this.key=n);var r=this.getValue(e);return r&&this.set(r),this}return l()(t,[{key:"set",value:function(t){return this.in(t),this}},{key:"valueOf",value:function(){return this.out()}},{key:"getValue",value:function(t){return this.key?v.a.get(t,this.key)||t:t}},{key:"in",value:function(t){return this.value=t,this}},{key:"out",value:function(){return this.value}},{key:"encode",value:function(){var t=void 0,e=this.valueOf();return this.key&&e?(t={})[this.key]=e:t=e,t}}]),t}(),y=function(t){function e(t){var n;d()(this,e);var r=o()(this,(e.__proto__||s()(e)).call(this,t,"$oid"));return n=r,o()(r,n)}return u()(e,t),e}(p),b=function(t){function e(t){var n;d()(this,e);var r=o()(this,(e.__proto__||s()(e)).call(this,t,"$date"));return n=r,o()(r,n)}return u()(e,t),l()(e,[{key:"in",value:function(t){if(!m.a.utc(t).isValid())throw new TypeError('Invalid date: "'+t+'"');this.value=t}},{key:"out",value:function(){return this.value?m.a.utc(this.value).toISOString():void 0}}]),e}(p)},XGKZ:function(t,e){},bKmf:function(t,e,n){"use strict";var r=n("Zx67"),s=n.n(r),i=n("Zrlr"),o=n.n(i),a=n("zwoO"),u=n.n(a),c=n("wxAW"),d=n.n(c),f=n("Pf15"),l=n.n(f),h=n("lVK7"),v=n("Jqgd"),j={name:"user",computed:{basePath:function(){if(this.role){var t=this.$options.basePath;return t||this.role+"s"}return""},full_name:function(){return this.role?this.first_name+" "+this.last_name:""},initials:function(){return this.role?(""+this.first_name[0]+this.last_name[0]).toUpperCase():""}}},m=function(t){function e(t,n){return o()(this,e),u()(this,(e.__proto__||s()(e)).call(this,t,[j,n]))}return l()(e,t),d()(e,null,[{key:"schema",value:function(){return{id:{type:v.a},updated:{type:v.b},created:{type:v.b},company:{type:String},first_name:{type:String},last_name:{type:String},email:{type:String},role:{type:String},notifications:{type:Object,properties:{alarm:{type:v.b},test:{type:Object,properties:{one:{type:v.b},two:{type:Object,properties:{three:{type:v.b}}}}}}},status:{type:Object},things:{type:Array,items:{id:{type:v.a},created:{type:v.b}}}}}}]),e}(h.b);e.a=m},lOx2:function(t,e,n){"use strict";var r=n("//Fk"),s=n.n(r),i=n("Xxa5"),o=n.n(i),a=n("exGp"),u=n.n(a),c=n("Zrlr"),d=n.n(c),f=n("wxAW"),l=n.n(f),h=n("7+uW"),v=n("M4fF"),j=n.n(v),m=n("Jqgd"),p=n("0xDb"),y=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d()(this,t);var r=this.constructor.schema(),i=p.a(r),a=n instanceof Array?n:[n];a=j.a.reduce(a,function(t,e){return j.a.merge({},t,e)});var c={name:"model",created:function(){this.set(e)},computed:{basePath:function(){var t=this.$options.basePath;return t||this.$options.name+"s"},urlRoot:function(){return this.basePath+"/"+this.id},isNew:function(){return void 0===this.id},url:function(){var t=a.url?a.url:this.isNew?this.basePath:this.urlRoot;return t},$request:function(){return j.a.get(this._vm,"$request")||p.b}},data:function(){return i()},methods:{fetch:function(){var t=this;return u()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$request(t.urlRoot);case 2:return n=e.sent,t.set(n),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,t)}))()},destroy:function(){return this.$request(this.urlRoot,{method:"DELETE"})},save:function(t,e){var n=this,r={path:""};j.a.merge(r,e);var i=p.c(this.$data,t);if(j.a.isEmpty(i))return s.a.resolve();var o=this.encode(i),a=this.isNew?"POST":"PUT",u=r.path?"/"+r.path:"",c=this.$request(this.url+u,{method:a,body:o});return c.then(function(){n.set(o)}),c},set:function(t){var e=this.decode(t);return j.a.merge(this,e),this},reset:function(t){return p.d(this.$data,i())},toJSON:function(){return p.e(this)},decode:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$data;return p.f(p.g(t),r)},encode:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$data;return p.h(p.i(t,r))},schema:function(){return r}}},f=j.a.merge({},c,a);return new h.a(f)}return l()(t,null,[{key:"schema",value:function(){return{id:String,created:m.b,updated:m.b}}}]),t}();e.a=y},lVK7:function(t,e,n){"use strict";var r=n("Zrlr"),s=n.n(r),i=n("wxAW"),o=n.n(i),a=n("90m7"),u=n("lOx2");n.d(e,"b",function(){return u.a});var c=function(){function t(){s()(this,t)}return o()(t,null,[{key:"install",value:function(t,e){t.mixin(n.i(a.a)(t))}}]),t}();e.a=c},uslO:function(t,e,n){function r(t){return n(s(t))}function s(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};r.keys=function(){return Object.keys(i)},r.resolve=s,t.exports=r,r.id="uslO"},"yA+m":function(t,e,n){"use strict";var r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("h1",[t._v("vue-models")]),t._v(" "),t._m(0),t._v(" "),n("button",{on:{click:t.setUser}},[t._v("Set User")]),t._v(" "),n("button",{on:{click:t.resetUser}},[t._v("Reset User")]),t._v(" "),n("table",[t._m(1),t._v(" "),n("tbody",[n("tr",[n("td",[n("pre",[t._v(t._s(t.encoded))])]),t._v(" "),n("td",[n("pre",[t._v(t._s(t.$user))])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("\n    Below is a demonstration of using custom types in a model schema to decode \n    "),n("a",{attrs:{href:"https://docs.mongodb.com/manual/reference/mongodb-extended-json/",target:"_blank"}},[t._v("extended json")]),t._v(" \n    from MongoDB. The data is flattened for use client-side, and then re-encoded\n    to extended json when saving, or as otherwise needed.\n  ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("td",[n("h2",[t._v("encoded model")])]),t._v(" "),n("td",[n("h2",[t._v("decoded model")])])])])}]};e.a=r}},["CxC/"]);